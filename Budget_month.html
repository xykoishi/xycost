<!DOCTYPE html>
<html>
<title>æœˆé¢„ç®—</title>

<head>
  <meta charset="utf-8">
  <title>æœˆé¢„ç®—</title>
  <!-- å¼•å…¥ echarts.js -->
  <script src="echarts.min.js"></script>
</head>

<body>
  <!-- ä¸ºEChartså‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„Dom -->
  <div id="main" style="width: 900px;height: 1000px;margin: auto;position: absolute;top: 0;left: 0;right: 0;bottom: 0;">
  </div>
  
  <script type="text/javascript">
    //=== é¢„ç®—ä½¿ç”¨ç‡(æ‰‹åŠ¨æ›´æ”¹)
    var b1 = 0;
    var b2 = 0;
    var b3 = 0;
    var b4 = 0;
    var b5 = 0;
    var b6 = 0;
 
    //==== è®¡ç®—å¤©æ•°
    var date = new Date();           //å½“å‰æ—¥æœŸ
    var year = date.getFullYear();   //å½“å‰å¹´
    var month = date.getMonth() + 1; //å½“å‰æœˆ
    var day = date.getDate();        //å½“å‰æ—¥
    //--- å½“æœˆæ€»å¤©æ•°
    if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {
      dayOnmonth = 31;
    }
    else if (month == 4 || month == 6 || month == 9 || month == 11) {
      dayOnmonth = 30;
    }
    else { dayOnmonth = 28; }  //æ‰‹åŠ¨æ”¹ï¼Œå¹³å¹´28ï¼Œé—°å¹´29
    //--- ç«–çº¿ä½ç½®
    daysRatio = day / dayOnmonth;

    // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹
    var myChart = echarts.init(document.getElementById('main'));
    // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®
    var option = {
      animation: false,
      title: { show: false, text: daysRatio },
      grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
      },
      
      yAxis: {
        type: 'category',
        axisTick: { show: false },
        splitLine: { show: false },
        axisLine: { show: false },
        axisLabel: {
          fontSize: 110,
          fontWeight: 'bolder',
          color: '#000000',
        },
        data: ['ğŸ¼', 'ğŸ“–', 'ğŸ»', 'ğŸ‘”', 'ğŸ’Š', 'ğŸ›’']
      },

      xAxis: {
        type: 'value',
        show: false,
        max: 1
      },

      series: [
        {
          data: [b6, b5, b4, b3, b2, b1],
          itemStyle: {
            color: '#134886'
          },
          markLine: {
            symbol: 'none', //å»æ‰ç®­å¤´
            data: [{ xAxis: daysRatio }],
            label: { formatter: '' }, //å»æ‰æ•°å­—
            itemStyle: {
              normal: {
                color: '#fdf055',
                lineStyle: {
                  type: 'solid',
                  width: 9
                }
              }
            }
          },
          type: 'bar',
          label: {
            show: true,
            fontSize: 70,
            position: 'insideRight',
            formatter: function (params) {
              if (params.value <= 0.1) {  //å°äº0.1æ—¶ä¸æ˜¾ç¤º
                return ''
              } else {
                return params.value.toFixed(1)   //.toFixed(1) æ˜¾ç¤º1ä½å°æ•°
              }
            }
          },
          showBackground: true,
          backgroundStyle: {
            color: '#c0bfc0'
          }
        }
      ]
    };

    // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚
    myChart.setOption(option);
  </script>
</body>

</html>